{"openapi":"3.1.1","info":{"title":"WhatsApp.API | v1","version":"1.0.0"},"servers":[{"url":"http://localhost:5278/"}],"paths":{"/api/v1/AIAgent":{"get":{"tags":["AIAgent"],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AIAgentResponse"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AIAgentResponse"}}},"text/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AIAgentResponse"}}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"post":{"tags":["AIAgent"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAIAgentRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/CreateAIAgentRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/CreateAIAgentRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"text/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/AIAgent/active":{"get":{"tags":["AIAgent"],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AIAgentResponse"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AIAgentResponse"}}},"text/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AIAgentResponse"}}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/AIAgent/{agentId}":{"get":{"tags":["AIAgent"],"parameters":[{"name":"agentId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"text/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"put":{"tags":["AIAgent"],"parameters":[{"name":"agentId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAIAgentRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/UpdateAIAgentRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/UpdateAIAgentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"text/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"delete":{"tags":["AIAgent"],"parameters":[{"name":"agentId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/AIAgent/{agentId}/toggle":{"post":{"tags":["AIAgent"],"parameters":[{"name":"agentId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/AIAgent/templates":{"get":{"tags":["AIAgent"],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/AIAgent/templates/{templateId}/create":{"post":{"tags":["AIAgent"],"parameters":[{"name":"templateId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFromTemplateRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/CreateFromTemplateRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/CreateFromTemplateRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}},"text/json":{"schema":{"$ref":"#/components/schemas/AIAgentResponse"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Auth/login":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Auth/register":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Auth/me":{"get":{"tags":["Auth"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Message/text":{"post":{"tags":["Message"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendTextMessageRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/SendTextMessageRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/SendTextMessageRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Message/media":{"post":{"tags":["Message"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMediaMessageRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/SendMediaMessageRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/SendMediaMessageRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Message/location":{"post":{"tags":["Message"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendLocationMessageRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/SendLocationMessageRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/SendLocationMessageRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Message/audio":{"post":{"tags":["Message"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendAudioMessageRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/SendAudioMessageRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/SendAudioMessageRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Message/{messageId}/status":{"get":{"tags":["Message"],"parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Message/history/{phoneNumber}":{"get":{"tags":["Message"],"parameters":[{"name":"phoneNumber","in":"path","required":true,"schema":{"type":"string"}},{"name":"limit","in":"query","schema":{"type":"integer","format":"int32","default":50}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"array"}},"application/json":{"schema":{"type":"array"}},"text/json":{"schema":{"type":"array"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Message/conversations":{"get":{"tags":["Message"],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"array"}},"application/json":{"schema":{"type":"array"}},"text/json":{"schema":{"type":"array"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Provider/stats":{"get":{"tags":["Provider"],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/ProviderStats"}}},"application/json":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/ProviderStats"}}},"text/json":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/ProviderStats"}}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Provider/{providerType}/health":{"get":{"tags":["Provider"],"parameters":[{"name":"providerType","in":"path","required":true,"schema":{"$ref":"#/components/schemas/ProviderType"}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProviderHealthResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProviderHealthResponse"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProviderHealthResponse"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Provider/{providerType}/status":{"get":{"tags":["Provider"],"parameters":[{"name":"providerType","in":"path","required":true,"schema":{"$ref":"#/components/schemas/ProviderType"}}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Provider/recommended":{"get":{"tags":["Provider"],"parameters":[{"name":"preferredProvider","in":"query","schema":{"type":"string","default":null}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/RecommendedProviderResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/RecommendedProviderResponse"}},"text/json":{"schema":{"$ref":"#/components/schemas/RecommendedProviderResponse"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Session/initialize":{"post":{"tags":["Session"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitializeSessionRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/InitializeSessionRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/InitializeSessionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/SessionStatusResponseDto"}},"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponseDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponseDto"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Session/status":{"get":{"tags":["Session"],"parameters":[{"name":"phoneNumber","in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/SessionStatusResponseDto"}},"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponseDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponseDto"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Session":{"get":{"tags":["Session"],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionStatusResponseDto"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionStatusResponseDto"}}},"text/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionStatusResponseDto"}}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Session/disconnect":{"delete":{"tags":["Session"],"parameters":[{"name":"phoneNumber","in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Session/qrcode":{"get":{"tags":["Session"],"parameters":[{"name":"phoneNumber","in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"string"}},"application/json":{"schema":{"type":"string"}},"text/json":{"schema":{"type":"string"}}}},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Tenant/settings":{"get":{"tags":["Tenant"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"put":{"tags":["Tenant"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantSettingsDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/TenantSettingsDto"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/TenantSettingsDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Tenant":{"post":{"tags":["Tenant"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTenantDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/CreateTenantDto"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/CreateTenantDto"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"get":{"tags":["Tenant"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TenantDto"}}}}}}}},"/api/v1/User":{"get":{"tags":["User"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto2"}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"post":{"tags":["User"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto2"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/User/{id}":{"get":{"tags":["User"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto2"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"put":{"tags":["User"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto2"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}},"delete":{"tags":["User"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"204":{"description":"No Content","content":{"application/json":{}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/User/{id}/password":{"put":{"tags":["User"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePasswordDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/UpdatePasswordDto"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/UpdatePasswordDto"}}},"required":true},"responses":{"204":{"description":"No Content","content":{"application/json":{}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/User/{id}/deactivate":{"post":{"tags":["User"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"204":{"description":"No Content","content":{"application/json":{}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}},"/api/v1/Webhook/incoming-message":{"post":{"tags":["Webhook"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncomingMessageWebhookDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/IncomingMessageWebhookDto"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/IncomingMessageWebhookDto"}}},"required":true},"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Webhook/status-update":{"post":{"tags":["Webhook"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatusUpdateWebhookDto"}},"text/json":{"schema":{"$ref":"#/components/schemas/MessageStatusUpdateWebhookDto"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/MessageStatusUpdateWebhookDto"}}},"required":true},"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"401":{"description":"Unauthorized","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"404":{"description":"Not Found","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}},"500":{"description":"Internal Server Error"}}}},"/api/v1/Webhook/verify":{"get":{"tags":["Webhook"],"parameters":[{"name":"hub.mode","in":"query","schema":{"type":"string"}},{"name":"hub.verify_token","in":"query","schema":{"type":"string"}},{"name":"hub.challenge","in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"OK"},"403":{"description":"Forbidden","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}},"text/json":{"schema":{"$ref":"#/components/schemas/ProblemDetails"}}}}}}}},"components":{"schemas":{"AIAgentResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"tenantId":{"type":"string","format":"uuid"},"name":{"type":"string"},"type":{"type":"string"},"configuration":{"type":["string","null"]},"isActive":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"AuthResponse":{"type":"object","properties":{"token":{"type":"string"},"user":{"$ref":"#/components/schemas/UserDto"},"expiresIn":{"type":"integer","format":"int32"}}},"CreateAIAgentRequest":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":["string","null"]},"configuration":{"type":["string","null"]}}},"CreateFromTemplateRequest":{"type":"object","properties":{"name":{"type":["string","null"]}}},"CreateTenantDto":{"type":"object","properties":{"clientId":{"type":"string"},"name":{"type":"string"},"settings":{"$ref":"#/components/schemas/JsonDocument"}}},"CreateUserDto":{"required":["email","password","fullName","role"],"type":"object","properties":{"email":{"type":"string"},"password":{"minLength":6,"type":"string"},"fullName":{"type":"string"},"role":{"type":"string"}}},"IncomingMessageWebhookDto":{"type":"object","properties":{"messageId":{"type":"string"},"from":{"type":"string"},"to":{"type":"string"},"type":{"$ref":"#/components/schemas/MessageType"},"textContent":{"type":["string","null"]},"mediaUrl":{"type":["string","null"]},"mediaMimeType":{"type":["string","null"]},"timestamp":{"type":"string","format":"date-time"},"metadata":{"type":["object","null"]}}},"InitializeSessionRequest":{"required":["phoneNumber","providerType"],"type":"object","properties":{"phoneNumber":{"type":"string"},"providerType":{"$ref":"#/components/schemas/ProviderType"}}},"JsonDocument":{"nullable":true},"JsonDocument2":{},"LoginRequest":{"required":["clientId","email","password"],"type":"object","properties":{"clientId":{"type":"string"},"email":{"type":"string"},"password":{"minLength":6,"type":"string"}}},"MessageResponseDto":{"type":"object","properties":{"messageId":{"type":"string"},"status":{"$ref":"#/components/schemas/MessageStatus"},"provider":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"error":{"type":["string","null"]},"metadata":{"type":["object","null"]}}},"MessageStatus":{"type":"integer"},"MessageStatusUpdateWebhookDto":{"type":"object","properties":{"messageId":{"type":"string"},"status":{"$ref":"#/components/schemas/MessageStatus"},"timestamp":{"type":"string","format":"date-time"},"error":{"type":["string","null"]}}},"MessageType":{"type":"integer"},"ProblemDetails":{"type":"object","properties":{"type":{"type":["string","null"]},"title":{"type":["string","null"]},"status":{"type":["integer","null"],"format":"int32"},"detail":{"type":["string","null"]},"instance":{"type":["string","null"]}}},"ProviderHealthResponse":{"type":"object","properties":{"providerType":{"$ref":"#/components/schemas/ProviderType"},"isHealthy":{"type":"boolean"},"checkedAt":{"type":"string","format":"date-time"},"message":{"type":"string"}}},"ProviderStats":{"type":"object","properties":{"providerType":{"$ref":"#/components/schemas/ProviderType"},"isHealthy":{"type":"boolean"},"totalSessions":{"type":"integer","format":"int32"},"activeSessions":{"type":"integer","format":"int32"},"messagesSentToday":{"type":"integer","format":"int32"},"lastHealthCheck":{"type":"string","format":"date-time"},"averageResponseTime":{"pattern":"^-?(\\d+\\.)?\\d{2}:\\d{2}:\\d{2}(\\.\\d{1,7})?$","type":"string"},"successRate":{"type":"number","format":"double"}}},"ProviderType":{"type":"integer"},"RecommendedProviderResponse":{"type":"object","properties":{"providerType":{"$ref":"#/components/schemas/ProviderType"},"isHealthy":{"type":"boolean"},"reason":{"type":"string"}}},"RegisterRequest":{"required":["clientId","email","password","fullName"],"type":"object","properties":{"clientId":{"type":"string"},"email":{"type":"string"},"password":{"minLength":6,"type":"string"},"fullName":{"minLength":2,"type":"string"},"role":{"type":"string"}}},"SendAudioMessageRequest":{"required":["to","audioBase64"],"type":"object","properties":{"to":{"type":"string"},"audioBase64":{"type":"string"}}},"SendLocationMessageRequest":{"required":["to","latitude","longitude"],"type":"object","properties":{"to":{"type":"string"},"latitude":{"maximum":90,"minimum":-90,"type":"number","format":"double"},"longitude":{"maximum":180,"minimum":-180,"type":"number","format":"double"}}},"SendMediaMessageRequest":{"required":["to","mediaBase64","mediaType"],"type":"object","properties":{"to":{"type":"string"},"mediaBase64":{"type":"string"},"mediaType":{"$ref":"#/components/schemas/MessageType"},"caption":{"maxLength":1024,"minLength":0,"type":["string","null"]}}},"SendTextMessageRequest":{"required":["to","content"],"type":"object","properties":{"to":{"type":"string"},"content":{"maxLength":4096,"minLength":1,"type":"string"}}},"SessionStatusResponseDto":{"type":"object","properties":{"isConnected":{"type":"boolean"},"phoneNumber":{"type":["string","null"]},"status":{"type":"string"},"connectedAt":{"type":["string","null"],"format":"date-time"},"metadata":{"type":["object","null"]},"provider":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"TenantDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"clientId":{"type":"string"},"name":{"type":"string"},"settings":{"$ref":"#/components/schemas/JsonDocument"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"TenantSettingsDto":{"type":"object","properties":{"settings":{"$ref":"#/components/schemas/JsonDocument2"}}},"UpdateAIAgentRequest":{"type":"object","properties":{"name":{"type":["string","null"]},"type":{"type":["string","null"]},"configuration":{"type":["string","null"]},"isActive":{"type":["boolean","null"]}}},"UpdatePasswordDto":{"required":["newPassword"],"type":"object","properties":{"newPassword":{"minLength":6,"type":"string"}}},"UpdateUserDto":{"type":"object","properties":{"fullName":{"type":["string","null"]},"role":{"type":["string","null"]},"isActive":{"type":["boolean","null"]}}},"UserDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"fullName":{"type":"string"},"role":{"type":"string"},"tenantId":{"type":"string","format":"uuid"},"tenantName":{"type":"string"},"clientId":{"type":"string"}}},"UserDto2":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"tenantId":{"type":"string","format":"uuid"},"tenantName":{"type":"string"},"email":{"type":"string"},"fullName":{"type":"string"},"role":{"type":"string"},"isActive":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}},"tags":[{"name":"AIAgent"},{"name":"Auth"},{"name":"Message"},{"name":"Provider"},{"name":"Session"},{"name":"Tenant"},{"name":"User"},{"name":"Webhook"}]}